# Clash Meta ä¼˜åŒ–é…ç½®
# ç‰ˆæœ¬ V1.19-250408
# å®Œæ•´æ•´åˆ blackmatrix7 è§„åˆ™é›†å’Œè‡ªå®šä¹‰ç­–ç•¥ç»„

mode: rule
ipv6: true
log-level: info
allow-lan: true
mixed-port: 7890
external-controller: :9090
unified-delay: true
tcp-concurrent: true
geodata-mode: true

# Geo æ•°æ®åº“
geox-url:
  geoip: "https://ghfast.top/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "https://ghfast.top/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://ghfast.top/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country.mmdb"

# è®¢é˜…é…ç½®
proxy-providers:
  è®¢é˜…ä¸€:
    type: http
    interval: 3600
    health-check:
      enable: true
      url: https://cp.cloudflare.com
      interval: 300
      timeout: 1000
      tolerance: 100
    url: "https://your-subscription-url-1.com"
    path: ./proxy_provider/è®¢é˜…ä¸€.yaml

  è®¢é˜…äºŒ:
    type: http
    interval: 3600
    health-check:
      enable: true
      url: https://cp.cloudflare.com
      interval: 300
      timeout: 1000
      tolerance: 100
    url: "https://your-subscription-url-2.com"
    path: ./proxy_provider/è®¢é˜…äºŒ.yaml

# ç­–ç•¥ç»„å®šä¹‰
proxy-groups:

  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    include-all: true

  - name: ğŸš€ æ‰‹åŠ¨é€‰æ‹©
    include-all: true
    type: select


  - name: ğŸš€ å‡ºå›½ä»£ç†
    type: select
    proxies:
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - DIRECT
      - ğŸš€ æ‰‹åŠ¨é€‰æ‹©
      
  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT
      - ğŸš€ æ‰‹åŠ¨é€‰æ‹©

  - name: ğŸ›‘ å…¨çƒæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT
      - ğŸš€ æ‰‹åŠ¨é€‰æ‹©

  - name: ğŸƒ åº”ç”¨å‡€åŒ–
    type: select
    proxies:
      - DIRECT
      - REJECT
      - ğŸš€ æ‰‹åŠ¨é€‰æ‹©

  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - ğŸ¯ å…¨çƒç›´è¿
      - ğŸš€ å‡ºå›½ä»£ç†
      - ğŸš€ æ‰‹åŠ¨é€‰æ‹©

# è§„åˆ™é›†å®šä¹‰
rule-providers:
  China:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China.list"
    path: ./ruleset/China.yaml
    interval: 86400

  Proxy:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Proxy/Proxy.list"
    path: ./ruleset/Proxy.yaml
    interval: 86400

  OpenAI:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.list"
    path: ./ruleset/OpenAI.yaml
    interval: 86400

  Advertising:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising.list"
    path: ./ruleset/Advertising.yaml
    interval: 86400

  AdvertisingLite:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdvertisingLite/AdvertisingLite.list"
    path: ./ruleset/AdvertisingLite.yaml
    interval: 86400

  Lan:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.list"
    path: ./ruleset/Lan.yaml
    interval: 86400

  Unblock:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Unblock/Unblock.list"
    path: ./ruleset/Unblock.yaml
    interval: 86400

  GoogleFCM:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GoogleFCM/GoogleFCM.list"
    path: ./ruleset/GoogleFCM.yaml
    interval: 86400

  GoogleCN:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GoogleCN/GoogleCN.list"
    path: ./ruleset/GoogleCN.yaml
    interval: 86400

  SteamCN:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/SteamCN/SteamCN.list"
    path: ./ruleset/SteamCN.yaml
    interval: 86400

  GitHub:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.list"
    path: ./ruleset/GitHub.yaml
    interval: 86400

  YouTube:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.list"
    path: ./ruleset/YouTube.yaml
    interval: 86400

  Google:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.list"
    path: ./ruleset/Google.yaml
    interval: 86400

  Bing:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bing/Bing.list"
    path: ./ruleset/Bing.yaml
    interval: 86400

  OneDrive:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OneDrive/OneDrive.list"
    path: ./ruleset/OneDrive.yaml
    interval: 86400

  Microsoft:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.list"
    path: ./ruleset/Microsoft.yaml
    interval: 86400

  Apple:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.list"
    path: ./ruleset/Apple.yaml
    interval: 86400

  Telegram:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.list"
    path: ./ruleset/Telegram.yaml
    interval: 86400

  Speedtest:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Speedtest/Speedtest.list"
    path: ./ruleset/Speedtest.yaml
    interval: 86400

  Epic:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Epic/Epic.list"
    path: ./ruleset/Epic.yaml
    interval: 86400

  Origin:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Origin/Origin.list"
    path: ./ruleset/Origin.yaml
    interval: 86400

  Sony:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Sony/Sony.list"
    path: ./ruleset/Sony.yaml
    interval: 86400

  Steam:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Steam/Steam.list"
    path: ./ruleset/Steam.yaml
    interval: 86400

  Nintendo:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Nintendo/Nintendo.list"
    path: ./ruleset/Nintendo.yaml
    interval: 86400

  Netflix:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.list"
    path: ./ruleset/Netflix.yaml
    interval: 86400

  TikTok:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.list"
    path: ./ruleset/TikTok.yaml
    interval: 86400

  ChinaMedia:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMedia/ChinaMedia.list"
    path: ./ruleset/ChinaMedia.yaml
    interval: 86400

  GlobalMedia:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GlobalMedia/GlobalMedia.list"
    path: ./ruleset/GlobalMedia.yaml
    interval: 86400

  GFW:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GFW/GFW.list"
    path: ./ruleset/GFW.yaml
    interval: 86400

  ChinaDomain:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaDomain/ChinaDomain.list"
    path: ./ruleset/ChinaDomain.yaml
    interval: 86400

  ChinaIP:
    type: http
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaIP/ChinaIP.list"
    path: ./ruleset/ChinaIP.yaml
    interval: 86400

  Download:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Download/Download.list"
    path: ./ruleset/Download.yaml
    interval: 86400

# è§„åˆ™å®šä¹‰
rules:
  # å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,Advertising,ğŸ›‘ å…¨çƒæ‹¦æˆª
  - RULE-SET,AdvertisingLite,ğŸƒ åº”ç”¨å‡€åŒ–
  
  # å›½å†…ç›´è¿
  - RULE-SET,China,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ChinaMedia,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ChinaDomain,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,GoogleCN,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,SteamCN,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Apple,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Speedtest,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Download,ğŸ¯ å…¨çƒç›´è¿
  
  # ç‰¹æ®ŠæœåŠ¡
  - RULE-SET,GoogleFCM,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,Telegram,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,OpenAI,ğŸš€ å‡ºå›½ä»£ç†
  
  # å›½é™…æœåŠ¡
  - RULE-SET,Proxy,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,YouTube,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,Google,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,Bing,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,OneDrive,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,Microsoft,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,GitHub,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,Epic,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,Origin,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,Sony,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,Steam,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,Nintendo,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,Netflix,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,TikTok,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,GlobalMedia,ğŸš€ å‡ºå›½ä»£ç†
  - RULE-SET,GFW,ğŸš€ å‡ºå›½ä»£ç†
  
  # ç½‘ç»œåŸºç¡€
  - RULE-SET,Lan,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Unblock,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ChinaIP,ğŸ¯ å…¨çƒç›´è¿
  
  # GEOè§„åˆ™
  - GEOSITE,CN,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,geolocation-!cn,ğŸš€ å‡ºå›½ä»£ç†
  - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  
  # æœ€ç»ˆè§„åˆ™
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
